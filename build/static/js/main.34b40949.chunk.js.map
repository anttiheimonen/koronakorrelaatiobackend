{"version":3,"sources":["components/Navbar.js","components/Footer.js","components/Haku.js","components/Legend.js","components/Info.js","components/Kartta.js","components/Laatikko.js","services/thl.js","services/gtrends.js","components/korrelaatiolaskin.js","components/Slider.js","components/Dropdown.js","components/Scatterplot.jsx","components/LinearGraph.jsx","App.js","serviceWorker.js","index.js"],"names":["Alert","useState","show","setShow","handleClose","Navbar","className","bg","variant","Brand","Nav","Button","onClick","Modal","onHide","animation","Header","closeButton","Title","Body","Footer","Haku","value","handleChange","handleKeyPress","hakemassa","TextField","id","label","size","onChange","type","onKeyUp","disabled","autoFocus","Legend","props","legend","L","control","position","onAdd","from","to","d","div","DomUtil","create","grades","labels","i","length","push","console","log","innerHTML","join","map","this","leaflet","addTo","MapControl","withLeaflet","Info","state","kunta","setState","remove","kuntaRajat","require","style","feature","color","properties","korona","weight","opacity","dashArray","fillOpacity","fillColor","Kartta","highlight","highlightFeature","bind","resetHighlight","onEachFeature","clickFeature","layer","on","mouseover","mouseout","click","e","target","code","name","setStyle","Browser","ie","opera","edge","bringToFront","features","undefined","koronaData","hakuData","haku","Map","center","zoom","TileLayer","url","attribution","GeoJSON","data","Component","Laatikko","korrelaatio","teksti","Container","sana","koronaLaatikko","nimi","trends","slice","uskottavuus","getData","a","axios","get","vastaus","getDataEiAsync","_","gtrendsDataPohja","hakusana","alkupvm","loppupvm","hakuUrl","timerStart","Date","now","then","response","duration","status","gtrendsData","cloneDeep","Object","assign","catch","error","laskekorrelaatio","scatterData","koronakeskihajontalaskuri","hakukeskihajontalaskuri","koronakeskiarvolaskuri","hakukeskiarvolaskuri","hakupituus","koronapituus","element","solu","hakukeskiarvo","koronakeskiarvo","hakuhajonta","Math","sqrt","koronahajonta","pearsonlaskuri","pearsonjakaja","pearson","abs","useStyles","makeStyles","root","width","valuetext","RangeSlider","marks","today","getWeek","onejan","getFullYear","dayOfYear","getMonth","getDate","ceil","max","classes","Typography","gutterBottom","Slider","valueLabelDisplay","aria-labelledby","getAriaValueText","min","DropdownExampleSearchDropdown","valittuKunta","kuntaValinnat","kuntaData","kunnat","kuntaNimi","iKunta","key","koodi","text","Dropdown","button","floating","labeled","icon","options","search","ScatterPlot","margin","height","x","scaleLinear","domain","range","y","transform","scale","axis","axisBottom","axisLeft","React","RenderCircles","renderCircles","coords","cx","cy","r","fill","Axis","node","refs","select","call","ref","LinearGraph","avain","avain1","gtrendsavain","kuntaAvain","haettu","trendsData","hakualku","hakuloppu","haepaiva","viikko","ekaPaiva","getDay","paiva","getTime","p","k","App","setHakusana","asetettuHakusana","setAsetettuHakusana","thlData","setThlData","setKoronaData","laatikkoKorona","setLaatikkoKorona","laatikkoKorrelaatio","setLaatikkoKorrelaatio","scatterPlotData","setscatterPlotData","valittuDropDown","setValittuDropDown","sliderValue","setSliderValue","kartanFiltteri","setKartanFiltteri","setKunta","gtrendsHakemassa","setGtrendsHakemassa","useEffect","ThlService","thl","initThlData","rajattuData","yl√§","ala","arvo","parseInt","isNaN","handleLaatikkoKoronaChange","haeGtrendsTulokset","GTrendsService","gtData","tulos","v","filtteri","karttafunktio","event","newValue","fluid","Row","Col","xs","md","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.34b40949.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport Navbar from 'react-bootstrap/Navbar'\nimport Button from 'react-bootstrap/Button'\nimport Nav from 'react-bootstrap/Nav'\nimport Modal from 'react-bootstrap/Modal'\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nfunction Alert() {\n\n  const [show, setShow] = useState(false);\n\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n    return (\n      <div>\n          <Navbar className=\"Navbar\" bg=\"primary\" variant=\"light\">\n          <Navbar.Brand>Koronakorrelaatio</Navbar.Brand>\n        <Nav>\n          <Button \n          className=\"nappi\" \n          variant=\"primary\"\n          onClick={handleShow}\n          >Info\n          </Button>\n        </Nav>\n        </Navbar>\n\n        <Modal \n        show={show} \n        onHide={handleClose} \n        animation={false}>\n        <Modal.Header closeButton>\n          <Modal.Title>Koronakorrelaatio</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>Koronakorrelaatio nettisivu jossa voit hakea suomesta tietoa...</Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"primary\" onClick={handleClose}>\n            Sulje\n          </Button>\n        </Modal.Footer>\n      </Modal>\n        </div>\n    );\n  }\n\nexport default Alert","import React from 'react';\n\nconst Footer = () => (\n  <div className='footer'>\n    <p>Koronakorrelaatio √§pisk√§ devattu reactilla</p>\n    <p>&copy; Antti Heimonen, Maria Kangas, Konsta Kalliokoski ja Vilma Patama</p>\n  </div>\n)\n\nexport default Footer","import React, { useState } from 'react'\nimport '../App'\nimport '../App.css'\nimport TextField from '@material-ui/core/TextField';\n\nconst Haku = ({value, handleChange, handleKeyPress, hakemassa}) => {\n\n  return (\n    <div className = \"Haku\">\n      <TextField \n      id           = \"outlined-basic\" \n      label        = \"Kirjoita hakusana\" \n      variant      = \"outlined\"\n      className    = \"Hakukentta\"\n      size         = \"small\"\n      value        = {value} \n      onChange     = {handleChange}\n      type         = \"text\"\n      onKeyUp      = {handleKeyPress}\n      disabled     = {hakemassa}\n      autoFocus    = {true} />\n      </div>\n  )\n}\n\nexport default Haku","import { MapControl, withLeaflet } from \"react-leaflet\";\nimport L from \"leaflet\";\n\n\nclass Legend extends MapControl {\n\n\n  createLeafletElement(props) {}\n\n  componentDidMount() {\n    // Asettaa v√§rin d:n perusteella\n    const getColor = d => {\n      return d > 1000 ?  '#800026':\n      d > 300  ?  '#BD0026':\n      d > 150  ?  '#E31A1C':\n      d > 75   ?  '#FC4E2A':\n      d > 25   ?  '#FD8D3C':\n      d > 10   ?  '#FEB24C':\n      d > 4    ?  '#FED976':\n                  '#dcf1f2';\n    }  \n\n    const legend = L.control({ position: \"bottomright\" });\n\n    legend.onAdd = () => {\n      const div = L.DomUtil.create(\"div\", \"info legend\");\n      const grades = [0, 4, 10, 25, 75, 150, 300, 1000];\n      let labels = [];\n      let from;\n      let to;\n\n      for (let i = 0; i < grades.length; i++) {\n        from = grades[i];\n        to = grades[i + 1];\n\n        labels.push(\n          '<i style=\"background:' +\n            getColor(from + 1) +\n            '\"></i> ' +\n            from +\n            (to ? \"&ndash;\" + to : \"+\")\n        );\n      }\n      console.log(labels)\n\n      div.innerHTML = labels.join(\"<br>\");\n      return div;\n    };\n\n    const { map } = this.props.leaflet;\n    legend.addTo(map);\n  }\n}\n\nexport default withLeaflet(Legend);","import { MapControl, withLeaflet } from \"react-leaflet\";\nimport L from \"leaflet\";\n\nconst legend = L.control({ position: \"topright\" });\n\nclass Info extends MapControl {\n\n  constructor(props){\n    super(props)\n    this.state = {\n\t\t\tkunta: props.kunta\n    }\n  }\n\n\n  createLeafletElement(props) {}\n\n  componentDidUpdate(){\n    if(this.props.kunta !== this.state.kunta){\n      console.log(this.props.kunta)\n      this.setState({kunta: this.props.kunta})\n      legend.remove()\n      const { map } = this.props.leaflet;\n      legend.addTo(map)\n    }\n  }\n\n  componentDidMount() {\n    legend.onAdd = () => {\n      const div = L.DomUtil.create(\"div\", \"info kunta\");\n\n      div.innerHTML = this.props.kunta;\n      return div;\n    };\n\n    const { map } = this.props.leaflet;\n    legend.addTo(map);\n  }\n}\n\nexport default withLeaflet(Info);","import React, {useState, Component} from 'react'\nimport { Map, TileLayer, GeoJSON } from 'react-leaflet'\nimport L from 'leaflet'\nimport ReactDOMServer from 'react-dom/server';\nimport Popup from \"./Popup\";\nimport Legend from \"./Legend\";\nimport Info from \"./Info\";\n\nlet kuntaRajat \t\t= require ('../data/kuntarajat-ok.json')\n\nconst position = [65.505, 27] //Kartan alustava keskipiste\nlet f = 1 //k√§ytt√§m√§t√∂n ominaisuus\n\nlet kunta = \"kunta\"\n\n//Palauttaa tyylin geojsonia varten\nfunction style(feature) {\n\t//f:ll√§ voi ohjata mit√§ propseja kartta k√§ytt√§√§ v√§ritykseen, ei k√§yt√∂ss√§\n\tlet color = f === 1 ? feature.properties.korona: \n\t\t\t\t\t\t\tf === 2 ? feature.properties.haku:\n\t\t\t\t\t\t\tfeature.properties.korona * (feature.properties.haku / 100)\n\n\treturn {\n\t\tweight:        1,\n\t\topacity:       5,\n\t\tcolor: '#1e1f1f',\n\t\tdashArray:    '',\n\t\tfillOpacity: 0.7,\n\t\tfillColor: getColor(color)\n\t};\n}\n\n//Palauttaa tietyn v√§rin d:n arvon perusteella\nfunction getColor(d) {\n\treturn  d > 1000 ?  '#800026':\n\t\t\t\t\td > 300  ?  '#BD0026':\n\t\t\t\t\td > 150  ?  '#E31A1C':\n\t\t\t\t\td > 75   ?  '#FC4E2A':\n\t\t\t\t\td > 25   ?  '#FD8D3C':\n\t\t\t\t\td > 10   ?  '#FEB24C':\n\t\t\t\t\td > 4    ?  '#FED976':\n\t\t\t\t\t\t\t\t\t\t\t'#dcf1f2';\n}\n \nclass Kartta extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n\t\t\thighlight: \"Laita hiiri kunnan p√§√§lle n√§hd√§ksesi sen nimen\"\n\t\t}\n\t\tthis.highlightFeature = this.highlightFeature.bind(this);\n\t\tthis.resetHighlight = this.resetHighlight.bind(this);\n\t\tthis.onEachFeature = this.onEachFeature.bind(this);\n\t\tthis.clickFeature = this.clickFeature.bind(this);\n\t}\n\t\n\t//Asettaa n√§m√§ ominaisuudet jokaisella layerille\n\tonEachFeature (feature, layer){\n\t\tlayer.on({\n\t\t\tmouseover: this.highlightFeature,\n\t\t\tmouseout:  this.resetHighlight,\n\t\t\tclick:     this.clickFeature\n\t\t});\n\t\t// const popupContent = ReactDOMServer.renderToString(\n\t\t// \t<Popup feature={feature} />\n\t\t// );\n\t\t//layer.bindPopup(popupContent);\n\t}\n\n\t//klikkauksen k√§sittelij√§, muuttaa laatikkoa appin kautta\n\tclickFeature(e) {\n\t\tvar layer = e.target\n\t\t//console.log (layer.feature.properties)\n\t\tthis.props.handleChange(layer.feature.properties.code)\n\t}\t\n\n\t//Korostaa tietyn layerin highlight -tyylill√§\n\thighlightFeature(e) {\n\t\tvar layer = e.target;\n\t\t//console.log(layer.feature.properties.name)\n\t\tthis.setState({highlight:layer.feature.properties.name})\n\t\tkunta = layer.feature.properties.name\n\t\t//console.log(this.state)\n\t\tlayer.setStyle({\n\t\t\tweight:         4,\n\t\t\tcolor:     '#666',\n\t\t\tdashArray:     '',\n\t\t\tfillOpacity:  0.7\n\t\t});\n\t\tif (!L.Browser.ie && !L.Browser.opera && !L.Browser.edge) {\n\t\t\tlayer.bringToFront();\n\t\t}\n\t}\n\n\t//Poistaa highlight -tyylin layerist√§\n\tresetHighlight(e) {\n\t\tvar layer = e.target;\n\t\tlayer.setStyle({\n\t\t\tweight:        1,\n\t\t\topacity:       5,\n\t\t\tcolor: '#1e1f1f',\n\t\t\tdashArray:    '',\n\t\t\tfillOpacity: 0.7,\n\t\t});\n\t}\n\n  render(){\n\t\t//K√§yd√§√§n l√§pi koronadata ja hakudata ja liitet√§√§n se karttaan\n\t\tfor (const feature of kuntaRajat.features){\n\t\t\tlet id = feature.properties.code\n\t\t\tthis.props.koronaData[id][\"data\"] === undefined ? feature.properties.korona = 0 : feature.properties.korona = this.props.koronaData[id][\"data\"]\n\t\t\t\n      if(this.props.hakuData[id][\"data\"] !== undefined){\n\t\t\t\tfeature.properties.haku = this.props.hakuData[id][\"data\"]\n      }\t\n\t\t}\n\n    return (\n      <Map center={position} zoom={5}>\n        <TileLayer\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          attribution=\"&copy; <a href=&quot;http://osm.org/copyright&quot;>OpenStreetMap</a> contributors | Korona-data &copy; <a href=&quot;https://thl.fi/fi/tilastot-ja-data/aineistot-ja-palvelut/avoin-data/varmistetut-koronatapaukset-suomessa-covid-19-&quot;>THL</a>\"\n        />\n        <Legend />\n\t\t\t\t<Info \n\t\t\t\t\tkunta \t\t\t\t= {this.state.highlight}\n\t\t\t\t/>\n        <GeoJSON \n          data          = {kuntaRajat}\t\t\t\t\n          style         = {style}\n          onEachFeature = {this.onEachFeature}\n        />\t\n      </Map>\n    )\n  }\n}\n\nexport default Kartta\n","import React, { Component } from 'react'\nimport Container from 'react-bootstrap/Container';\nimport '../App.css'\nimport '../kartta/data/avain'\n\nclass Laatikko extends Component {\n  render() {\n    //Jos korrelaatiota ei ole laskettu t√§m√§ render√∂id√§√§n, muuten else\n    if(this.props.korrelaatio.teksti === \"\")\n    return (\n      <div className=\"laatikkoDiv\">\n      <Container className=\"Laatikko\">\n        <p className=\"laatikkoP\">\n          <b>Haettu hakusana:</b>  {this.props.sana                  === \"\" ? \"Ei hakua\"                         :this.props.sana} <br/>\n          <b>Kunta:</b>            {this.props.koronaLaatikko.nimi   === \"\" ? \"Klikkaa kuntaa n√§hd√§ksesi tiedot\" :this.props.koronaLaatikko.nimi} <br/>\n          <b>Trends-arvo:</b>      {this.props.koronaLaatikko.trends === \"\" ? \"Tee haku n√§hd√§ksesi trends-arvot\" :this.props.koronaLaatikko.trends} <br/>\n          <b>Koronatartuntoja:</b> {this.props.koronaLaatikko.korona === \"\" ? \"Klikkaa kuntaa n√§hd√§ksesi tiedot\" :this.props.koronaLaatikko.korona} <br/>\n        </p>\n      </Container>\n      </div>\n    ); else\n    return (\n      <div className=\"laatikkoDiv\">\n      <Container className=\"Laatikko\">\n        <p className=\"laatikkoP\">\n        <b>Haettu hakusana:</b>  {this.props.sana                  === \"\" ? \"Ei hakua\"                         :this.props.sana} <br/>\n        <b>Kunta:</b>            {this.props.koronaLaatikko.nimi   === \"\" ? \"Klikkaa kuntaa n√§hd√§ksesi tiedot\" :this.props.koronaLaatikko.nimi} <br/>\n        <b>Trends-arvo:</b>      {this.props.koronaLaatikko.trends === \"\" ? \"Tee haku n√§hd√§ksesi trends-arvot\" :this.props.koronaLaatikko.trends} <br/>\n        <b>Koronatartuntoja:</b> {this.props.koronaLaatikko.korona === \"\" ? \"Klikkaa kuntaa n√§hd√§ksesi tiedot\" :this.props.koronaLaatikko.korona} <br/>\n        </p>\n        <p>\n        <b>Pearsonin korrelaatiokerroin:</b> {(\"\" + this.props.korrelaatio.data).slice(0,6)} <br/>\n        <b>Korrelaatio:</b>                  {this.props.korrelaatio.teksti} <br/>\n        Datassa oli {this.props.korrelaatio.uskottavuus} merkitsev√§√§ datapistett√§, joten {this.props.korrelaatio.uskottavuus < 10 ? \"se ei todenn√§k√∂isesti ole merkitsev√§ tulos\" : this.props.korrelaatio.uskottavuus < 25 ? \"se saattaa olla merkitsev√§ tulos \" : this.props.korrelaatio.uskottavuus < 50 ? \"se on mahdollisesti merkitsev√§ tulos\": \"se on todenn√§k√∂isesti merkitsev√§ tulos\"}\n        </p>\n        </Container>\n        </div>\n    ) \n  }\n}\n\nexport default Laatikko","import axios from 'axios'\n\n// Package.json tiedostossa mainitun proxyn ansiosta backendin \n// osoitetta ei tarvitse kokonaan\nconst thlDataUrl = '/thl/thldata'\n\nconst getData = async () => {\n  const vastaus = await axios.get(thlDataUrl)\n  //console.log(vastaus.data)\n  return (vastaus.data)\n}\n\n\nconst getDataEiAsync = () => {\n  const vastaus = axios.get(thlDataUrl)\n  //console.log(vastaus.data)\n  return (vastaus.data)\n}\n\nexport default { getData, getDataEiAsync }","import axios from 'axios'\n\nvar _               = require('lodash');\n// Pohjassa kaikilla kunnilla on valmiina arvo 0\nlet gtrendsDataPohja = require('./../data/gtrends-avain.json')\nconst palvelin = `/gtrends`\n\n// Hakee hakusanan trendin Suomen kunnista annetulta ajanv√§lilt√§.\n// P√§iv√§m√§√§r√§t ovat muotoa vuosi-kk-pp, esim. 2020-5-21  \n// Palauttaa datan muodossa:\n// {\n//   \"area005\": \"88\",\n//   \"area007\": \"100\",\n//   ...\n// }\n//\n// Jos hakuprosessi p√§√§ttyy virheeseen, niin palauttaa null\nconst getData = async (hakusana, alkupvm, loppupvm) => {\n  console.log(`Gtrends haku: hakusana ${hakusana}, alkupvm ${alkupvm}, loppupvm ${loppupvm}`);\n  let hakuUrl =  `${palvelin}?hakusana=${hakusana}&alkupvm=${alkupvm}&loppupvm=${loppupvm}`\n  // console.log(hakuUrl);\n\n  let timerStart = Date.now();\n  return await axios.get(hakuUrl).then(response => { \n    let timerStop = Date.now();\n    let duration = timerStop - timerStart;\n    console.log(`Gtrends haku: Vastauksen status ${response.status}, kesto ${duration} ms`);\n    let gtrendsData = _.cloneDeep(gtrendsDataPohja)\n    Object.assign(gtrendsData, response.data)\n    return gtrendsData\n  }).catch(error => {\n    console.log(`Virhe Gtrends datan hakemisessa!`);\n    console.log(error);\n    return null\n  })\n}\n\nexport default { getData }","function laskekorrelaatio(hakuData, koronaData){\n\t\n\t//Laskee korrelaation kahdelle samankokoiselle datasetille pearsonin korrelaatiokertoimen kaavalla\n\t//Palauttaa olion, joka sis√§lt√§√§ teksti√§ ja dataa\n\n\t/*\n\tconsole.log(hakuData)\n\tconsole.log(koronaData)\n\t*/\n\tlet scatterData = []\n\t\n\tlet koronakeskihajontalaskuri = 0\n\tlet hakukeskihajontalaskuri   = 0\n\tlet koronakeskiarvolaskuri    = 0\n\tlet hakukeskiarvolaskuri \t\t\t= 0\n\t\n\tlet hakupituus   = 0\n\tlet koronapituus = 0\n\tlet uskottavuus = 0\n\n\tfor(var element in koronaData){\n\t\tkoronakeskiarvolaskuri += koronaData[\"\" + element][\"data\"]\n\t\tkoronapituus++\n\t\tlet solu = [hakuData[\"\" + element] , koronaData[\"\" + element][\"data\"]]\n\t\tif (solu[0] !== 0 && solu[1] !== 0) uskottavuus++\n\t\tif (!(solu[0] === 0 && solu[1] === 0))scatterData.push(solu)\n\t\thakukeskiarvolaskuri += hakuData[\"\" + element]\n\t\thakupituus++\n\t}\n\n\t//console.log(scatterData)\n\t\n\tlet hakukeskiarvo = hakukeskiarvolaskuri / hakupituus\n\tlet koronakeskiarvo = koronakeskiarvolaskuri / koronapituus\n\n\tfor(element in koronaData){\n\t\tkoronakeskihajontalaskuri += (koronaData[\"\" + element][\"data\"] - koronakeskiarvo) * (koronaData[\"\" + element][\"data\"] - koronakeskiarvo)\n\t\thakukeskihajontalaskuri += (hakuData[\"\" + element] - hakukeskiarvo) * (hakuData[\"\" + element] - hakukeskiarvo)\n\t}\n\n\tlet hakuhajonta = Math.sqrt(hakukeskihajontalaskuri / hakupituus) \n\tlet koronahajonta = Math.sqrt(koronakeskihajontalaskuri / koronapituus) \n\tlet pearsonlaskuri = 0\n\n\tfor(element in hakuData){\n\t\t\tpearsonlaskuri += (hakuData[\"\" + element] - hakukeskiarvo) * (koronaData[\"\" + element][\"data\"] - koronakeskiarvo) //* (helement.haku - hakukeskiarvo)\n\t}\n\t\n\tlet pearsonjakaja = (koronapituus * koronahajonta * hakuhajonta)\n\tlet pearson = pearsonjakaja !== 0 ? pearsonlaskuri / pearsonjakaja : 0\n\n\t/*\n\tconsole.log(koronakeskiarvo)\n\tconsole.log(koronapituus)\n\tconsole.log(koronahajonta)\n\tconsole.log(koronakeskihajontalaskuri)\n\tconsole.log(pearsonjakaja)\n\tconsole.log(pearson)\n\t*/\n\n\tlet data = {}\n\tdata.teksti = pearson > 0.7 || pearson < -0.7 ? \n\t\t\t\t\t\t\t\t\t\"muuttujien v√§lill√§ on selv√§ lineaarinen yhteys\" :\n\t\t\t\t\t\t\t\tpearson > 0.3 || pearson < -0.3 ? \n\t\t\t\t\t\t\t\t\t\"muuttujien v√§lill√§ on jonkin verran lineaarista yhteytt√§\" :\n\t\t\t\t\t\t\t\tpearson > 0.1 || pearson < -0.1 ? \n\t\t\t\t\t\t\t\t\t\"muuttujien v√§lill√§ ei ole juurikaan lineaarista yhteytt√§\":\n\t\t\t\t\t\t\t\t\t\"muuttujien v√§lill√§ ei ole lineaarista yhteytt√§\";\n\tdata.pearson = Math.abs(pearson) \n\tdata.scatterData = scatterData\n\tdata.uskottavuus = uskottavuus\n\t//console.log(data)\n\n\treturn data\n}\n\nexport default laskekorrelaatio","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Slider from '@material-ui/core/Slider';\n\nconst useStyles = makeStyles({\n  root: {\n    width: 300,\n  },\n});\n\nfunction valuetext(value) {\n  return `${value}`;\n}\n\nexport default function RangeSlider(props) {\n\n  //Labelit slideriin\n  const marks = [\n    {\n      value: 4,\n      label: 'Tammi'\n    },\n    {\n      value: 12,\n      label: 'Maalis'\n    },\n    {\n      value: 20,\n      label: 'Touko'\n    },\n    {\n      value: 28,\n      label: 'Hein√§'\n    },\n    {\n      value: 36,\n      label: 'Elo'\n    },\n    {\n      value: 44,\n      label: 'Loka'\n    }\n  ];\n\n  var today = new Date();\n  //Hakee p√§iv√§n perusteella kuluvan viikon\n  today.getWeek = function () {\n    var onejan = new Date(this.getFullYear(), 0, 1);\n    var today = new Date(this.getFullYear(), this.getMonth(), this.getDate());\n    var dayOfYear = ((today - onejan + 86400000) / 86400000);\n    return Math.ceil(dayOfYear / 7)\n  };\n  var max = today.getWeek() - 1\n  const classes = useStyles();\n\n  if (max > 51) {\n    marks.push({\n      value: 52,\n      label: 'Joulu'\n    })\n  }\n\n  return (\n    <div className={classes.root}>\n      <Typography id=\"range-slider\" gutterBottom>\n        Haettavat viikot koronatilastoille\n      </Typography>\n      <Slider\n        value={props.value}\n        onChange={props.handleChange}\n        valueLabelDisplay=\"auto\"\n        aria-labelledby=\"range-slider\"\n        getAriaValueText={valuetext}\n        min={5}\n        max={max}\n        marks={marks}\n      />\n    </div>\n  );\n}","import React, { useState } from 'react'\nimport { Dropdown } from 'semantic-ui-react'\nimport kuntaData from '../data/avain.json'\nimport 'semantic-ui-css/semantic.min.css'\nimport '../App.css'\n\nconst DropdownExampleSearchDropdown = ({valittuKunta, onChange}) => {\n  // Alustetaan k√§ytett√§v√§ array\n  const kuntaValinnat = []\n  \n  \n  // Luodaan silmukassa kuntaDatan pohjalta objekti jokaiselle kunnalle ja asetetaan se kuntaValinnat arrayn sis√§√§n\n  for(let i = 0; i < kuntaData.kunnat.length; i++){\n      const kuntaNimi = kuntaData.kunnat[i].nimi;\n      const kuntaKoodi = kuntaData.kunnat[i].koodi;\n      const iKunta = {key: kuntaKoodi, text: kuntaNimi, value: kuntaNimi}\n      kuntaValinnat.push(iKunta);\n  }\n  \n  \n\n  /**\n  // Asettaa valittuun kunnan jota k√§ytt√§j√§ on klikannut\n  const onChange = (event, vastaus) => {\n    const kunta = vastaus.value;\n    handleChange(kunta);\n  }\n\n   */\n  \n  // Tehd√§√§n dropdown\n  return(\n    <div className= 'dropdown'>\n    <Dropdown\n      button\n      className='icon'\n      floating\n      labeled\n      icon='write'\n      options={kuntaValinnat}\n      search\n      onChange={onChange}\n      // Asetetaan dropdownin tekstiksi kunnan nimi jota klikataan, kun kunta on undefined niin default teksti\n      text={valittuKunta === '' ? 'Valitse kunta' : '' + valittuKunta}\n    />\n    </div>\n  )\n}\n\nexport default DropdownExampleSearchDropdown\n","import React from \"react\"\nimport { scaleLinear, max, axisLeft, axisBottom, select } from \"d3\"\n\n\nexport default class ScatterPlot extends React.Component {\n  constructor(props) {\n    super(props)\n  }\n\n  render() {\n    const margin = { top: 20, right: 15, bottom: 60, left: 60 }\n    const width = 800 - margin.left - margin.right\n    const height = 600 - margin.top - margin.bottom\n    const data = this.props.data\n\n    const x = scaleLinear()\n      .domain([\n        0,\n        max(data, function(d) {\n          return d[0]\n        })\n      ])\n      .range([0, width])\n\n    const y = scaleLinear()\n      .domain([\n        0,\n        max(data, function(d) {\n          return d[1]\n        })\n      ])\n      .range([height, 0])\n\n    return (\n      <div>\n        <svg\n          width={width + margin.right + margin.left}\n          height={height + margin.top + margin.bottom}\n          className=\"chart\"\n        >\n          <g\n            transform={\"translate(\" + margin.left + \",\" + margin.top + \")\"}\n            width={width}\n            height={height}\n            className=\"main\"\n          >\n            <RenderCircles data={data} scale={{ x, y }} />\n            <Axis\n              axis=\"x\"\n              transform={\"translate(0,\" + height + \")\"}\n              scale={axisBottom().scale(x)}\n            />\n            <Axis\n              axis=\"y\"\n              transform=\"translate(0,0)\"\n              scale={axisLeft().scale(y)}\n            />\n          </g>\n        </svg>\n      </div>\n    )\n  }\n}\n\nclass RenderCircles extends React.Component {\n  render() {\n    let renderCircles = this.props.data.map((coords, i) => (\n      <circle\n        cx={this.props.scale.x(coords[0])}\n        cy={this.props.scale.y(coords[1])}\n        r=\"8\"\n        style={{ fill: \"rgba(25, 158, 199, .9)\" }}\n        key={i}\n      />\n    ))\n    return <g>{renderCircles}</g>\n  }\n}\n\nclass Axis extends React.Component {\n  componentDidMount() {\n    const node = this.refs[this.props.axis]\n    select(node).call(this.props.scale)\n  }\n\n  render() {\n    return (\n      <g\n        className=\"main axis date\"\n        transform={this.props.transform}\n        ref={this.props.axis}\n      />\n    )\n  }\n}","import React from \"react\"\nimport ScatterPlot from \"./Scatterplot\"\n\nexport default class LinearGraph extends React.Component {\n  constructor(props) {\n    super(props)\n  }\n  render() {\n    if(this.props.data[0] !== undefined)return <ScatterPlot data={this.props.data} />;\n    else return (null)\n  }\n}","import React, { useState, useEffect, } from 'react'\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'bootstrap/dist/css/bootstrap-theme.css';\nimport Navigointi from './components/Navbar'\nimport Container from 'react-bootstrap/Container'\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport Footer from './components/Footer'\nimport Haku from './components/Haku'\nimport Kartta from './components/Kartta'\nimport Laatikko from './components/Laatikko'\nimport ThlService from './services/thl'\nimport GTrendsService from './services/gtrends'\nimport laskekorrelaatio from './components/korrelaatiolaskin'\nimport RangeSlider from './components/Slider'\nimport Dropdown from './components/Dropdown'\nimport LinearGraph from './components/LinearGraph'\n\n\nvar _               = require('lodash');\nlet avain           = require('./data/avain.json')\nlet avain1          = require('./data/area-avain.json')\nlet gtrendsavain    = require('./data/gtrends-avain.json')\nlet kuntaAvain      = require('./data/kuntakoodit.json')\nlet hakuData        = _.cloneDeep(avain)\n    hakuData.haettu = 0\nlet trendsData       = _.cloneDeep(gtrendsavain)\n// let koronaData      = _.cloneDeep(avain)\nlet hakualku        = \"2020-01-28\"\nlet hakuloppu       = \"2020-01-28\"\n\n//palauttaa viikon ensimm√§isen p√§iv√§n muodossa vuosi-kuukausi-p√§iv√§\nfunction haepaiva(viikko){\n  let vuosi = 2020\n  let ekaPaiva = new Date(2020, 0, 1).getDay();\n  let paiva    = new Date(\"Jan 01, \" + vuosi + \" 01:00:00\")\n  let d        = new Date( paiva.getTime() - (3600000 * 24 * (ekaPaiva - 1)) + 604800000 * (viikko - 1))\n  \n  let p        = d.getDate()\n  let k        = d.getMonth() + 1\n  k            = ('0' + k).slice(-2)\n  let v        = d.getFullYear()\n  return \"\" + v + \"-\" + k + \"-\" + p\n}\n\n\nfunction App() {\n  const [hakusana, setHakusana]\n    = useState('')\n  const [asetettuHakusana = \"\", setAsetettuHakusana] \n    = useState('')\n  // ThlData sis√§lt√§√§ backendilt√§ saadun datan. T√§t√§ ei saa muuttaa\n  const [thlData, setThlData]                        \n    = useState(null)\n\n  const [koronaData, setKoronaData]                        \n    = useState(null)\n\n  const [laatikkoKorona, setLaatikkoKorona]          \n    = useState({ \n      id: \t\t \"area005\",\n      trends:  \"\",\n      korona:  \"\",\n      nimi:    \"\"\n    }\n  )\n  const [laatikkoKorrelaatio, setLaatikkoKorrelaatio] \n    = useState({\n      teksti: \"\",\n      data:    0,\n      uskottavuus: 0,\n    }\n  )\n  const [scatterPlotData, setscatterPlotData]\n    = useState([])\n  const [valittuDropDown, setValittuDropDown] \n    = useState('')\n  const [sliderValue, setSliderValue]                 \n    = useState([5, 44])\n  const [kartanFiltteri, setKartanFiltteri]\n    = useState(1)\n\n  const [kunta, setKunta] = useState(null)\n\n  const [gtrendsHakemassa, setGtrendsHakemassa] = useState(false)\n  \n\n  // Effect pyyt√§√§ THL-datan backendilt√§ sivun auettua ja asettaa\n  // sen thlData-tilaan. thlData on null, kunnes oikea data asetetaan.\n  useEffect(() => {\n    async function initThlData() {\n      const thl = await ThlService.getData()\n      setThlData(thl)\n      console.log(thl)\n    }\n    initThlData()\n  }, [])\n\n\n  const naytettavanDatanMuutos = () => {\n    console.log(\"thlData tai slider muuttunut\");\n\n    if(thlData === null )\n      return\n\n    let rajattuData = _.cloneDeep(avain1)\n\n    let [yl√§,  ala] = sliderValue\n    if  (yl√§ < ala){\n        [ala,  yl√§] = sliderValue\n    }  \n\n    for (const kunta in rajattuData){\n        //alustetaan kaikkien kuntien koronadatksi 0\n        rajattuData[kunta].data = 0 \n        let id = \"\" + kunta\n\n        //Lis√§t√§√§n 0:aan thldatan arvoja\n        for (let i = ala; i <= yl√§; i++){\n            let viikko = \"\" + ('0' + i).slice(-2)\n            if(thlData[\"2020\"][viikko][id] !== undefined){\n              let arvo = parseInt(thlData[\"2020\"][viikko][id])\n              if(!isNaN(arvo))\n                rajattuData[kunta][\"data\"] += arvo\n            }\n        }\n    }\n    setKoronaData(rajattuData)\n    if(koronaData !== null)handleLaatikkoKoronaChange(laatikkoKorona.id)\n  }\n\n\n  // Funktio naytettavanDatanMuutos suoritetaan aina, kun thlData tai sliderValue muuttuu\n  useEffect(naytettavanDatanMuutos, [thlData, sliderValue])\n\n\n  //Handleri joka muuttaa laatikon arvoja. Suoritetaan, kun \n  const handleLaatikkoKoronaChange = () => {\n    if (kunta === null)\n      return\n\n    let value = kunta\n    var data;\n    console.log(\"handle \" + value);\n\n    data = {\n      id: value,\n      trends: trendsData[value] !== undefined ? trendsData[value] : \"Tee haku n√§hd√§ksesi trends-arvot\",\n      korona: koronaData !== null ? koronaData[value][\"data\"]: \"jahas\",\n      nimi: koronaData !== null ? koronaData[value][\"kunta\"]: \"jahas\"\n    }\n    setLaatikkoKorona(data)\n    setValittuDropDown(koronaData[value][\"kunta\"])\n  }\n\n  \n  useEffect(handleLaatikkoKoronaChange, [koronaData, kunta])\n\n\n  //Asettaa dropdownille oikean kunnan ja v√§litt√§√§ handlelaatikkokoronachangelle\n  //Ilmon ett√§ valinta vaihtunut koodin kera\n  function handleDropDownChange (e, vastaus) {\n    setKunta(kuntaAvain[vastaus.value][\"koodi\"]);\n    // handleLaatikkoKoronaChange(kuntaAvain[vastaus.value][\"koodi\"])\n  }\n\n\n  // Tarkkailee hakusanaan teht√§vi√§ muutoksia ja tallentaa ne valueen\n  const handleHakusanaChange = (e) => {\n    setHakusana(e.target.value);\n  }\n\n  //Handleri sliderille\n  const handleSliderChange = (event, newValue) => {\n    if(sliderValue === newValue)return\n    let [ala, yl√§] = newValue\n    //t√§√§ p√§tk√§ est√§√§ slideria menem√§st√§ p√§√§llekk√§in, jottei tapahdu kamalia\n    if (yl√§ - ala !== 0 )setSliderValue([ala,yl√§]);\n\n    // handleLaatikkoKoronaChange (laatikkoKorona.id)\n  };\n\n  // Hakee Google Trendsin tulokset annetulle hakusanalle\n  const haeGtrendsTulokset = async () => {\n    setGtrendsHakemassa(true)\n    let [ala, yl√§] = sliderValue\n    hakualku = haepaiva(ala)\n    hakuloppu = haepaiva(yl√§)\n\n    GTrendsService.getData(hakusana, hakualku, hakuloppu).then(gtData => {\n      console.log(gtData)\n      setGtrendsHakemassa(false)\n      if (gtData === null){\n        // Gtrends-datan hakeminen ep√§onnistui\n        console.log(`Gtrends dataa ei voitu hakea!`);\n        return;\n      }\n      let tulos = laskekorrelaatio(gtData, koronaData)\n      trendsData = gtData\n      console.log(tulos)\n      setscatterPlotData(tulos.scatterData)\n      setKartanFiltteri(3)\n      setLaatikkoKorrelaatio({\n        teksti: tulos.teksti,\n        data: tulos.pearson,\n        uskottavuus: tulos.uskottavuus\n      })\n    })\n  }\n\n  // Kutsuu hae-funktiota jos ollaan painettu enteri√§\n  const handleEnterPress = (e) => {\n    if (e.key === 'Enter') {\n      setAsetettuHakusana(hakusana);\n      // console.log(hakusana);\n      console.log(asetettuHakusana);\n      haeGtrendsTulokset();\n    }\n  }\n\n  //Kartta piirret√§√§n vasta kun koronadata on alustettu\n  const karttafunktio = () => {\n    if(koronaData == null)\n     return\n    return (\n      <Kartta \n        koronaData     = {koronaData} \n        hakuData       = {trendsData} \n        handleChange   = {(v) => setKunta(v) } \n        filtteri       = {kartanFiltteri} />\n    )\n  }\n\n\n  //Jos thldata ei ole tullut perille niin ei render√∂id√§ muuta kuin else\n  if(thlData !== null)\n    return (\n      <div className=\"App\">\n        <Navigointi/>\n      <div className=\"Flex\">\n        {karttafunktio()}\n        <RangeSlider \n          value          = {sliderValue} \n          handleChange   = {handleSliderChange}/>\n        <div className=\"hakuTiedot\">\n          <Container fluid>\n            <Row>\n              <Col xs={4} md={6}>\n                <Dropdown\n                  valittuKunta   = {valittuDropDown}\n                  onChange       = {handleDropDownChange}\n                />\n              </Col>\n              <Col  xs={5} md={4}>\n                <Haku \n                value          = {hakusana} \n                handleChange   = {handleHakusanaChange} \n                handleKeyPress = {handleEnterPress}\n                hakemassa      = {gtrendsHakemassa}/>\n              </Col>\n            </Row>\n          </Container>\n        </div>\n        <Laatikko \n          sana           = {asetettuHakusana} \n          koronaLaatikko = {laatikkoKorona}\n          korrelaatio    = {laatikkoKorrelaatio}/>\n        <Footer />\n        <LinearGraph \n          data           ={scatterPlotData}\n        />\n        </div>\n      </div>\n    );\n  else\n    return (\n      <div className=\"App\">\n        <p>Odota hetki kun sivu lataantuu</p>\n      </div>\n    );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}